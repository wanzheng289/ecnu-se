
| 实验课程：计算机网络实践 | 年级：2024级       | 实验成绩：           |
| ------------ | -------------- | --------------- |
| 实验名称：UDP     | 姓名：史紫昱         |                 |
| 实验编号：实验五     | 学号：10245101423 | 实验日期：2025.12.24 |
| 指导教师：章玥      | 组号：22          | 实验时间：2025.12.24 |
# （一）实验目的
1.熟悉使用wireshark软件进行抓取UDP数据包 ；
2.分析抓取到的UDP数据包，掌握UDP数据包结构；
3.掌握UDP数据包各字段的含义；
4.了解UDP协议使用领域；
# （二）实验内容与实验步骤
1.启动Wireshark，在菜单栏的捕获->选项中进行设置，选择已连接的以太网，设置捕获过滤器为“udp”，关闭混杂模式；
![[屏幕截图 2025-12-24 080438.png]]
2.点击开始，打开浏览器，在地址栏中输入网址浏览，例如www.baidu.com； 
3.打开Wireshark， 停止捕获；
4.查看Wireshark界面中抓取的UDP数据包。
![[Pasted image 20251224081226.png]]
# （三）实验环境
1. 实验所使用的器件：笔记本
2. 仪器设备名称：LAPTOP-9FV2DSHF
3. 规格
①处理器：13th Gen Intel(R) Core(TM) i5-13500H (2.60 GHz)
②机带RAM：32.0 GB (31.7 GB 可用)
③系统类型：64位操作系统, 基于x64的处理器
# （四）实验过程与分析
由于未连接以太网，因此使用WLAN进行实验
在浏览器输入`www.bilibili.com`
![[屏幕截图 2025-12-24 081213.png]]
# （五）实验结果总结
以frame919为例：
![[Pasted image 20251224081547.png]]
![[Pasted image 20251224081614.png]]
## 一、通过查看UDP消息的详细信息，回答以下问题：
1、UDP数据包头中的Length字段包括哪些部分？UDP有效载荷，还是UDP有效载荷加上UDP头部的总长度，还是UDP有效载荷和UDP头部以及低层协议的头部三者总长度？
![[Pasted image 20251224081844.png]]
UDP的Length字段包括UDP有效载荷加上UDP头部的总长度
①header
=Source Port(2 bytes)
+Destination Port(2 bytes)
+Length(2 bytes)
+Checksum(2 bytes)
=8 bytes
②UDP payload(34 bytes)
相加共42 bytes

2、UDP校验和为多少位？
`Checksum: 0xd442`
共$4*4=16$位
3、整个UDP头部的长度为多少字节？
header
=Source Port(2 bytes)
+Destination Port(2 bytes)
+Length(2 bytes)
+Checksum(2 bytes)
=8 bytes
## 二、为了了解UDP在实践中是如何进行传输的，观察数据包的IP头部并思考以下问题： 
1、将上层协议标识为UDP的IP头部的协议字段值为多少？
![[Pasted image 20251224082508.png]]
`Protocol:UDP(17)`
协议字段值=17
2、查看源IP地址与目的IP地址都不是你的计算机的IP地址的数据包，并给出这些数据包的目的IP地址。
本机IP=`172.25.13.115`
![[Pasted image 20251224083132.png]]
![[Pasted image 20251224084102.png]]
由于未抓到源IP地址与目的IP地址都不是本机的IP地址的数据包，因此使用老师提供的`trace-udp.pacp`文件：
![[Pasted image 20251224084256.png]]
目的IP地址：
①局域网广播地址：`192.168.1.255`
②SSDP多播地址：`239.55.255.250`
3、一般UDP消息的长度为多少？
Length字段为2 bytes，所有UDP报文的最大长度=$2^{16}=65536 bytes$
但如果报文过大，需要进行分片，而分片比较脆弱，因此需要将报文长度控制在$MTU=1500 bytes$内
## 三、在完成本实验后继续探索UDP协议：
1.了解基于UDP的应用程序的流量，查看数据包大小和丢失率。
①DNS：数据包大小通常在70-300bytes
![[Pasted image 20251224085143.png]]
②QUIC：数据包大小数量级通常在$10-10^3$
![[Pasted image 20251224100221.png]]
③MDNS：数据包大小在100bytes左右
![[Pasted image 20251224102202.png]]
从截图中可以看出部分request未收到reply，说明UDP传输存在一定的丢失率
2.探索流和实时应用程序，查看哪些使用UDP以及哪些使用TCP进行传输。
以frame19为例，该包使用UDP传输
![[Pasted image 20251224103608.png]]

# （六）附录
无




