
| 实验课程：计算机网络实践        | 年级：2024级       | 实验成绩：           |
| ------------------- | -------------- | --------------- |
| 实验名称：Protocol Layer | 姓名：史紫昱         |                 |
| 实验编号：实验一            | 学号：10245101423 | 实验日期：2025.11.19 |
| 指导教师：章玥             | 组号：22          | 实验时间：2025.11.19 |
# （一）实验目的
1、掌握网络抓包工具Wireshark、网络诊断工具ping的用法；
2、使用网络诊断工具ping触发网络消息；
3、使用网络抓包工具Wireshark获取并分析以太网数据帧；
4、掌握以太网帧的结构；
5、分析以太网地址范围；
6、分析以太网的广播帧。
# （二）实验内容与实验步骤
## 一、单播
1、启动Wireshark，在菜单栏的捕获->选项中进行设置，选择已连接的以太网，设置捕获过滤器为“icmp”，将混杂模式设为关闭,勾选 Resolve MAC addresses然后开始捕获。
![[Pasted image 20251203080515.png]]

2、打开命令行，输入ping www.baidu.com.
![[Pasted image 20251203080556.png]]
3、打开Wireshark，停止捕获。
## 二、组播&广播
使用“ether multicast”过滤器开始对广播和多播以太网帧进行捕获，等待30秒记录背景流量，然后停止捕获。
![[Pasted image 20251208160354.png]]
![[Pasted image 20251203083013.png]]
# （三）实验环境
1.实验所使用的器件：笔记本
2.仪器设备名称：LAPTOP-9FV2DSHF
3.规格
①处理器：13th Gen Intel(R) Core(TM) i5-13500H (2.60 GHz)
②机带RAM：32.0 GB (31.7 GB 可用)
③系统类型：64位操作系统, 基于x64的处理器
# （四）实验过程与分析
1.单播：成功捕获以下数据包：
![[Pasted image 20251208145946.png]]
2.组播&广播：成功捕获以下数据包：
![[Pasted image 20251208150024.png]]
# （五）实验结果总结
## 一、分析以太网单播帧
#### 1.基于对以太网帧格式的理解，绘制ping消息的图形，该图形以字节为单位显示以太网报头字段的位置和大小。图形可以简单地将框架显示为一个细长的矩形。先出现在包中的是最左边的字段，会先通过网络发送。在此图中，显示以太网报头和以太网负载的范围。最后添加一个虚线框来表示4字节校验和。
以No.1为例：
![[Pasted image 20251208150403.png]]
frame1的信息如下：
![[屏幕截图 2025-12-08 150616.png]]
Frame 1：总帧长=74Bytes
Ethernet II：Src和Dst都是6个字节；Type是2个字节
![[屏幕截图 2025-12-08 150624.png]]
Total Length=60Bytes
使用`arp -a`查询地址：
![[屏幕截图 2025-12-03 090742.png]]
![[Pasted image 20251208160555.png]]
#### 2.画一个图,显示你的电脑,路由器和远程服务器的相对位置。标记你的电脑和路由器的以太网地址。标记你的计算机和远程服务器的IP地址。同时也在绘图中显示出以太网和其他网络
![[Pasted image 20251208153446.png]]
## 二、分析以太网广播帧或多播帧的格式回答下面问题
#### 1.以太网广播帧的地址是什么,以Wireshark显示的标准形式写出。
`ff:ff:ff:ff:ff:ff`
#### 2.哪几个比特位的以太网地址是用来确定是单播或多播/广播的?
MAC地址的第1个字节的最低有效位：等于0则为单播，等于1则为组播，地址全为f则为广播
## 三、IEEE 802.3数据包分析
#### 1.与DIX以太网报头相比，IEEE 802.3和LLC组合报头有多长？您可以使用Wireshark解决此问题。 请注意，Trailer / Padding和Checksum可能显示为标头的一部分，但它们位于帧的末尾。
①不含SNAP扩展头：802.3头（14Bytes）+LLC头（3Bytes）=17Bytes
②包含SNAP扩展头：802.3头（14Bytes）+LLC头（3Bytes）+SNAP（5Bytes）=22Bytes
#### 2.接收方计算机如何知道该帧是DIX以太网还是IEEE 802.3？ 提示：您可能需要同时使用Wireshark查看数据包示例并查找相关文献。
通过Ethernet II的Type字段来进行判断：将Type字段值转换为十进制，如果≤1500则为IEEE 802.3，如果≥1536则为DIX以太网
#### 3.如果IEEE 802.3没有类型字段，那么如何确定下一层？ 使用Wireshark查找解复用键。
①不含SNAP扩展头：接收方通过LLC头中的DSAP字段和SSAP字段来进行确定
②包含SNAP扩展头：接收方通过SNAP的最后2字节Protocol ID来进行确定

# （六）附录
无

